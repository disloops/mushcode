@@ MIT License
@@ Copyright (c) 2019 Matt Westfall (@disloops)

@@ Permission is hereby granted, free of charge, to any person obtaining a copy
@@ of this software and associated documentation files (the "Software"), to deal
@@ in the Software without restriction, including without limitation the rights
@@ to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
@@ copies of the Software, and to permit persons to whom the Software is
@@ furnished to do so, subject to the following conditions:

@@ The above copyright notice and this permission notice shall be included in all
@@ copies or substantial portions of the Software.

@@ THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
@@ IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
@@ FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
@@ AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
@@ LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
@@ OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
@@ SOFTWARE.

@@ author = Matt Westfall
@@ email = disloops@gmail.com

@@ Shopkeeper v1.0
@@ A simple, multi-purpose shopkeeper.

@@ Created and tested under PennMUSH v1.8.7

@create Shopkeeper
@lock/basic Shopkeeper=#1
@lock/enter Shopkeeper=#1
@set Shopkeeper=!NO_COMMAND
@set Shopkeeper=MONITOR
@set Shopkeeper=WIZARD

&EFAIL Shopkeeper=He's not interested.
&FAILURE Shopkeeper=He's not interested.
&USE Shopkeeper=Just type [ansi(h,buy <object>)] if there's something you're interested in.

&DESCRIBE Shopkeeper=[name(me)] has the appearance of a business man of eastern descent. His skin is olive and his leather belt strains to sinch his pants below his tunic. He wears a cotton vest with tassles and a pair of gold spectacles he uses to read a paperback.%rYou can use [ansi(h,buy <object>)] to purchase any of the items in the shop.

&CMD_TALK Shopkeeper=$talk *:@assert strmatch(name(%!),%0);@pemit %#=say Feel free to look around.

&ON_ENTER Shopkeeper=^* blinds rattle *:@wait 20=@emit Without taking his eyes from his book, [ansi(h,[name(me)])] takes a careful bite of his salad.

&ON_BUY Shopkeeper=^* has purchased*:say An excellent choice!