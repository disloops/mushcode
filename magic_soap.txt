@@ MIT License
@@ Copyright (c) 2019 Matt Westfall (@disloops)

@@ Permission is hereby granted, free of charge, to any person obtaining a copy
@@ of this software and associated documentation files (the "Software"), to deal
@@ in the Software without restriction, including without limitation the rights
@@ to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
@@ copies of the Software, and to permit persons to whom the Software is
@@ furnished to do so, subject to the following conditions:

@@ The above copyright notice and this permission notice shall be included in all
@@ copies or substantial portions of the Software.

@@ THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
@@ IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
@@ FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
@@ AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
@@ LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
@@ OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
@@ SOFTWARE.

@@ author = Matt Westfall
@@ email = disloops@gmail.com

@@ Magic Soap v1.0
@@ A bar of soap that everyone can have one of.

@@ Note that for an item to @clone itself, restrictions on both @create and
@@ @clone need to be set properly. Because I don't want non-WIZARD players
@@ using @create, the restrictions I have look like this:
@@ @command/restrict @create=flag^wizard|!type^player

@@ Created and tested under PennMUSH v1.8.7

@create Bar of soap
@set Bar of soap=QUIET
@set Bar of soap=NO_COMMAND
@lock/give Bar of soap==#1
@lock/enter Bar of soap==#1

&TAKEN Bar of soap=t(namegrab(lcon(%#),soap))
@lock/basic Bar of soap=TAKEN/0

&DESCRIBE Bar of soap=A thin bar of hard, pink soap that's wrapped in paper.
&SUCCESS Bar of soap=You take the soap.
&ASUCCESS Bar of soap=think setq(0,clone(me));@lock/use %q0=+%q0;@teleport me=loc(%#)
&FAILURE Bar of soap=You already have that.
&DROP Bar of soap=You discard the soap.
&ADROP Bar of soap=@nuke me;@nuke me
&USE Bar of soap=The soap smells fresh and leaves your hands feeling crisp.
&GIVE_LOCK`FAILURE Bar of soap=That could be misconstrued as an insult.
&EFAIL Bar of soap=An odd request.